# å‰è¨€
> æœ¬é¡¹ç›®æ˜¯å¾®ä¿¡å…¬ä¼—å· è®¢é˜…å·ï¼ˆæœªè®¤è¯ï¼‰é€šè¿‡ç®€å•çš„é…ç½®æ¥å…¥åˆ° ChatGPT ä¸­ï¼Œé€šè¿‡ openAI æ¥å£å®ç°åœ¨è®¢é˜…å·èŠå¤©ç•Œé¢ç›´æ¥å¯¹è¯è¿›è¡ŒAIèŠå¤©

> å¾®ä¿¡æœªç»è¿‡è®¤è¯çš„è®¢é˜…å·åœ¨æ¥å£æƒé™ä¸Šé¢æœ‰éå¸¸å¤§çš„é™åˆ¶ï¼Œè¿™é‡Œä¸»è¦åšçš„äº‹æ˜¯ï¼šç”¨æˆ·é€šè¿‡å…³æ³¨è®¢é˜…å·å‘é€æ¶ˆæ¯åˆ°åå°ï¼Œå¤„ç†è°ƒç”¨chatgptæ¥å£ï¼Œç¼“å­˜åˆ°redisä¸­ã€‚å› ä¸ºchatgptæ¥å£å»¶è¿Ÿé—®é¢˜ï¼Œå¦‚æœå¾®ä¿¡ä¸‰æ¬¡å›è°ƒå‡æ²¡æœ‰æ”¶åˆ°chatgptå›å¤ï¼Œå°±å°†æ•°æ®å­˜åˆ°redisé€šè¿‡openid å’Œmsgidç»‘å®šç”¨æˆ·å’Œä¼šè¯ï¼Œç”¨æˆ·è¾“å…¥ â€œç»§ç»­â€ æŸ¥è¯¢è¿”å›å›ç­”ã€‚

> å¤§å®¶å¯ä»¥å…³æ³¨æœ¬äººè®¢é˜…å·ä½“éªŒä¸€ä¸‹ï¼ˆæœ‰æ—¶æœåŠ¡ä¼šä¸åœ¨çº¿ï¼‰

![å¾®ä¿¡è®¢é˜…å·äºŒç»´ç ](https://image.cmyang.cn/i/2024/03/28/660508c75724d.jpg)

# ä¸€ã€é…ç½®

### 1. å¾®ä¿¡å…¬ä¼—å·åå°é…ç½®

- a. ç‚¹å¼€è®¾ç½®ä¸å¼€å‘ - åŸºæœ¬é…ç½®ï¼Œå¯ç”¨ æœåŠ¡å™¨é…ç½®
- b. å¡«å†™æœåŠ¡å™¨åœ°å€ http://è‡ªå·±çš„åŸŸå:ç«¯å£/wechat
- c. å¡«å†™ä»¤ç‰Œï¼Œé€‰æ‹©æ˜æ–‡æ¨¡å¼
- d. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¦å…ˆæŠŠæœåŠ¡é…ç½®å¥½ï¼Œå¯åŠ¨èµ·æ¥ï¼ŒæœåŠ¡å™¨é…ç½®ä¿å­˜çš„æ—¶å€™éœ€è¦éªŒè¯

![å¾®ä¿¡å…¬ä¼—å·æœåŠ¡å™¨é…ç½®](https://image.cmyang.cn/i/2024/03/28/66050890d243a.png)

### 2. åç«¯ä»£ç é…ç½®

> æ‰€æœ‰éœ€è¦ä¿®æ”¹çš„é…ç½®éƒ½æœ‰æ³¨é‡Šï¼Œéƒ½åœ¨ application-dev.yml å’Œ application-prod.ymlæ–‡ä»¶ä¸­ï¼Œè¯·æŒ‰éœ€é€‰æ‹©ä¸Šçº¿çš„é…ç½®æ–‡ä»¶

- a. æ‹‰å–ä»£ç 
> git clone https://github.com/cmyang-it/wechatgpt.git
- b. é…ç½®redis
- c. é…ç½®å¾®ä¿¡ä¸Šè¿°å¡«å†™çš„ä»¤ç‰Œ
- d. é…ç½®chatgptç›¸å…³

![ä¿®æ”¹é…ç½®](https://image.cmyang.cn/i/2024/04/12/6618a81cd6157.png)

### 3. é¡¹ç›®éƒ¨ç½²

- ç›´æ¥éƒ¨ç½²åˆ°linuxæœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡systemctlç®¡ç†
1. å°†ä¸Šè¿°é…ç½®éƒ½ä¿®æ”¹å¥½åï¼Œæ‰§è¡Œ mvn clean package ä¼šç”Ÿæˆ wechatgpt.jar æ–‡ä»¶
2. ç›´æ¥å°† wechatgpt.jar æ”¾åˆ°ç›®æ ‡æœåŠ¡å™¨çš„ /opt ç›®å½•ä¸‹
3. å°†é¡¹ç›®çš„ service ç›®å½•ä¸‹é¢çš„ wechatgpt.service æ”¾åˆ° /lib/systmed/systemç›®å½•ä¸‹
4. æ‰§è¡Œ systemctl daemon-reload å’Œ systemctl start wechatgpt å³å¯å¯åŠ¨æœåŠ¡

- ä½¿ç”¨dockeréƒ¨ç½²
1. å°†ä¸Šè¿°é…ç½®éƒ½ä¿®æ”¹å¥½åï¼Œæ‰§è¡Œ mvn clean package ä¼šç”Ÿæˆ wechatgpt.jar æ–‡ä»¶
2. é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ docker build -t wechatgpt:latest .
3. docker run -it -d -p 18080:8080 --restart=always --name wechatgpt --privileged=true  -v /etc/localtime:/etc/localtime:ro wechatgpt:latest

# æœ€åè°¢æ˜ğŸ™ 
- chatgpt-java: https://github.com/Grt1228/chatgpt-java
